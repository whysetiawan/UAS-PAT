(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f56d952"],{1587:function(e,t,a){"use strict";a.r(t);var s,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-content",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",{staticClass:"my-8 title-text"},[e._v("Management Users")])]),a("v-col",{attrs:{cols:"6"}},[a("div",{staticClass:"float-right my-8 title-text"},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"float-right",attrs:{icon:"",dark:""}},"v-btn",i,!1),s),[a("v-avatar",{attrs:{color:"#71C9CE",circle:"",size:"50"}},[a("v-icon",[e._v("mdi-plus")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"title-dialog ml-3"},[e._v("Add User")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{id:"terms",outline:"",label:"First Name",outlined:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{id:"terms",outline:"",label:"Last Name",outlined:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{id:"terms",label:"Username",disabled:"",outlined:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{id:"terms",label:"Password",type:"password",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{id:"terms",items:e.branches,"item-text":"name","item-value":"id",label:"Branch",outlined:""},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{id:"terms",items:e.roles,"item-text":"name","item-value":"id",label:"Role",outlined:""},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{id:"terms",items:e.status,label:"Status",outlined:""},model:{value:e.selectedStatus,callback:function(t){e.selectedStatus=t},expression:"selectedStatus"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#71c9ce",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"#71c9ce",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this user?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#71c9ce",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"#71c9ce",text:""},on:{click:e.deleteItemConfirm}},[e._v("Delete")]),a("v-spacer")],1)],1)],1)],1)])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.user.users,page:e.page,"items-per-page":e.itemsPerPage,"hide-default-footer":""},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"item.role",fn:function(t){var s=t.item;return[a("v-chip",{staticClass:"mx-1",attrs:{multiple:"",color:"#71c9ce","text-color":"white"}},[e._v(" "+e._s(s.roleId)+" ")])]}},{key:"item.action",fn:function(t){var s=t.item;return[a("v-row",[a("v-btn",{attrs:{icon:"",color:"#71c9ce",dark:""},on:{click:function(t){return e.editItem(s)}}},[a("v-icon",[e._v("mdi-account-edit")])],1),a("v-btn",{attrs:{icon:"",color:"#71c9ce",dark:""}},[a("v-icon",{on:{click:function(t){return e.deleteItem(s)}}},[e._v("mdi-trash-can")])],1)],1)]}}],null,!0)}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{circle:"",length:e.pageCount,color:"#71c9ce"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1),a("v-overlay",{attrs:{value:e.user.isLoading}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)],1)],1)],1)},r=[],c=a("ade3"),n=a("1da1"),l=a("5530"),o=(a("a434"),a("96cf"),a("bc3a")),d=a.n(o),u=a("2f62"),m=a("bd5e"),v=(s={data:function(){return{terms:!1,dialog:!1,dialogDelete:!1,page:1,pageCount:0,itemsPerPage:10,firstName:"",lastName:"",username:"",password:"",selectedRole:0,selectedStatus:"",selectedStoreId:0,selectedBranch:"",branches:[],roles:[{id:1,name:"Admin"},{id:2,name:"Manager"}],status:["ACTIVE","INACTIVE","BLOCKED"],headers:[{text:"Username",value:"username"},{text:"Cabang",value:"store.name"},{text:"Role",value:"role.name"},{text:"Status",value:"status"},{text:"Action",value:"action",sortable:!1}],datas:[],editedIndex:-1,editedDatas:{name:"",email:"",role:"",status:""},defaultDatas:{name:"",email:"",role:"",status:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New User":"Edit User"},isDisabled:function(){return!this.terms}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}}},Object(c["a"])(s,"computed",Object(l["a"])(Object(l["a"])({},Object(u["d"])({auth:function(e){return e.auth},user:function(e){return e.user}})),Object(u["c"])(["getAccessToken"]))),Object(c["a"])(s,"created",(function(){this.initialize()})),Object(c["a"])(s,"mounted",(function(){this.getStoreList()})),Object(c["a"])(s,"methods",{getRoleList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("".concat(m["a"],"/user/role"));case 3:a=t.sent,e.roles=a.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("error ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getStoreList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("".concat(m["a"],"/store"),{headers:{Authorization:"Bearer ".concat(e.auth.auth.accessToken)}});case 3:a=t.sent,e.branches=a.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},initialize:function(){this.$store.dispatch("getUserList"),this.datas=[]},editItem:function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.username=e.username,this.selectedBranch=e.selectedBranch,this.selectedRole=e.selectedRole,this.selectedStatus=e.selectedStatus,this.editedIndex=e.id,this.dialog=!0},deleteItem:function(e){this.editedIndex=e.id,this.editeddatas=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.datas.splice(this.editedIndex,1),this.closeDelete()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedDatas=Object.assign({},e.defaultDatas),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1){var e=this.firstName,t=this.lastName,a=this.selectedRole,s=this.selectedStatus,i=this.selectedBranch,r=this.username,c=this.password;this.$store.dispatch("editOneUser",{id:this.editedIndex,firstName:e,lastName:t,username:r,password:c,roleId:a,status:s,storeId:i})}else{var n=this.firstName,l=this.lastName,o=this.selectedRole,d=this.selectedStatus,u=this.selectedBranch,m=this.username,v=this.password;this.$store.dispatch("addNewUser",{firstName:n,lastName:l,username:m,password:v,roleId:o,status:d,storeId:u})}this.firstName="",this.lastName="",this.username="",this.password="",this.close()}}),s),h=v,f=(a("640b"),a("2877")),p=a("6544"),b=a.n(p),g=a("8212"),x=a("8336"),w=a("b0af"),k=a("99d9"),C=a("cc20"),I=a("62ad"),N=a("a523"),V=a("a75b"),D=a("8fea"),S=a("169a"),_=a("132d"),O=a("a797"),R=a("891e"),j=a("490a"),B=a("0fd9"),T=a("b974"),y=a("2fa4"),A=a("8654"),U=Object(f["a"])(h,i,r,!1,null,"42bcf7cb",null);t["default"]=U.exports;b()(U,{VAvatar:g["a"],VBtn:x["a"],VCard:w["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VChip:C["a"],VCol:I["a"],VContainer:N["a"],VContent:V["a"],VDataTable:D["a"],VDialog:S["a"],VIcon:_["a"],VOverlay:O["a"],VPagination:R["a"],VProgressCircular:j["a"],VRow:B["a"],VSelect:T["a"],VSpacer:y["a"],VTextField:A["a"]})},"2af6":function(e,t,a){},"640b":function(e,t,a){"use strict";a("2af6")}}]);
//# sourceMappingURL=chunk-6f56d952.fefc7561.js.map